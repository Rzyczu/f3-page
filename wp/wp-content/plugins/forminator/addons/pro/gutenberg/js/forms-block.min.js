!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(module,exports){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),__=wp.i18n.__,registerBlockType=wp.blocks.registerBlockType,_wp$element=wp.element,Component=_wp$element.Component,RawHTML=_wp$element.RawHTML,BlockEdit=function(_Component){function BlockEdit(){_classCallCheck(this,BlockEdit);var e=_possibleConstructorReturn(this,(BlockEdit.__proto__||Object.getPrototypeOf(BlockEdit)).apply(this,arguments));return e.update_id=e.update_id.bind(e),e.preview=e.preview.bind(e),e.state={loading:!1,markup:""},e}return _inherits(BlockEdit,_Component),_createClass(BlockEdit,[{key:"update_id",value:function(e){this.props.setAttributes({module_id:e})}},{key:"preview",value:function(e){var t=this,n=e.module_id;if(!this.state.loading){this.setState({loading:!0});var r=wpApiSettings.root+"forminator/v1/preview/forms/?module_id="+n;window.fetch(r).then(function(e){return e.json()}).then(function(e){e.success&&t.setState({markup:e.data.markup}),setTimeout(function(){var e=window.jQuery("form.forminator-custom-form");t.form_scripts(e,n),jQuery(document).trigger("forminator.gutenberg.form.loaded",n)},10),t.setState({loading:!1})}).catch(function(e){return{success:!1}})}}},{key:"form_scripts",value:function form_scripts(form,module_id){var this_form=window.jQuery("form.forminator-custom-form-"+module_id);if(0===this_form.length){if(this_form=window.jQuery("iframe").contents().find("form.forminator-custom-form-"+module_id),this_form.length){var iframe=window.jQuery("iframe")[0],iframeWindow=iframe.contentWindow;this_form.parent().find("script").each(function(){iframeWindow.eval(window.jQuery(this).text())})}}else this_form.parent().find("script").each(function(){eval(jQuery(this).text())})}},{key:"componentDidMount",value:function(){var e=this.props.attributes;e.module_id&&this.preview(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props.attributes;if(e.attributes.module_id!==t.module_id)return t.module_id?void this.preview(t):void this.setState({markup:""})}},{key:"update_alignment",value:function(e){this.props.setAttributes({alignment:e})}},{key:"open_settings",value:function(e){var t=frmnt_form_data.admin_url+"?page=forminator-cform-wizard&id="+e;window.location.href=t}},{key:"render",value:function(){var e=this;void 0===this.props.attributes.module_id&&2===frmnt_form_data.forms.length&&this.update_id(""+frmnt_form_data.forms[1].value);var t=this.state,n=t.loading,r=t.markup,o=this.props,i=o.attributes,l=(o.setAttributes,o.isSelected),a=i.module_id,m=i.alignment,s=i.previewURL,c=function(t){return e.update_id(t.target.value)},u=function(t){return e.update_alignment(t.target)},p=function(t){return e.open_settings(a)},f=frmnt_form_data.forms,d=[l&&wp.element.createElement(wp.blockEditor.InspectorControls,{key:"inspector"},wp.element.createElement(wp.components.SelectControl,{label:frmnt_form_data.l10n.choose_form,value:a,options:f,onChange:this.update_id})),wp.element.createElement(wp.blockEditor.BlockControls,{key:"controls"},wp.element.createElement(wp.blockEditor.BlockAlignmentToolbar,{value:m,onChange:u}),!!a&&wp.element.createElement(wp.components.Toolbar,null,wp.element.createElement(wp.components.Button,{className:"components-toolbar__control",label:frmnt_form_data.l10n.customize_form,icon:"edit",onClick:p})))];return s?wp.element.createElement("img",{src:s,alt:frmnt_form_data.l10n.preview_alt,style:{width:"100%"}}):n?[d,wp.element.createElement("div",{key:"loading",className:"wp-block-embed is-loading"},wp.element.createElement(wp.components.Spinner,null),wp.element.createElement("span",null,frmnt_form_data.l10n.rendering))]:r?[d,wp.element.createElement(wp.element.RawHTML,{key:"markup"},r)]:[d,wp.element.createElement(wp.components.Placeholder,{key:"placeholder",className:"wp-block-embed"},wp.element.createElement("div",{className:"forminator-forms--placeholder",style:{margin:"0 auto 20px",lineHeight:"21px"}},wp.element.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{verticalAlign:"middle"}},wp.element.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.6634 3.79874H18.6111C19.1121 3.79874 19.5925 3.99053 19.9468 4.33187C20.301 4.67321 20.5 5.13614 20.5 5.61887V20.1799C20.5 20.6626 20.301 21.1255 19.9468 21.4669C19.5925 21.8082 19.1121 22 18.6111 22H5.38889C4.88792 22 4.4075 21.8082 4.05327 21.4669C3.69904 21.1255 3.5 20.6626 3.5 20.1799V5.61887C3.5 5.13614 3.69904 4.67321 4.05327 4.33187C4.4075 3.99053 4.88792 3.79874 5.38889 3.79874H9.33666C9.53518 3.27168 9.89729 2.81628 10.3738 2.49447C10.8503 2.17265 11.4181 2 12 2C12.5819 2 13.1497 2.17265 13.6262 2.49447C14.1027 2.81628 14.4648 3.27168 14.6634 3.79874ZM12.5247 3.9521C12.3693 3.8521 12.1868 3.79874 12 3.79874C11.7495 3.79874 11.5093 3.89464 11.3322 4.0653C11.1551 4.23597 11.0556 4.46744 11.0556 4.7088C11.0556 4.8888 11.1109 5.06472 11.2147 5.21438C11.3185 5.36404 11.466 5.48072 11.6386 5.5496C11.8111 5.61848 12.0011 5.63648 12.1842 5.60137C12.3674 5.56625 12.5357 5.47958 12.6678 5.3523C12.7998 5.22503 12.8898 5.06286 12.9263 4.88633C12.9627 4.70979 12.944 4.52682 12.8725 4.36053C12.8011 4.19424 12.68 4.0521 12.5247 3.9521ZM5.38889 5.61887V20.1799H18.6111V5.61887H15.7778V7.43899H8.22222V5.61887H5.38889ZM8.2222 12.8987H15.7777C16.0283 12.8987 16.2685 12.9946 16.4456 13.1653C16.6227 13.3359 16.7222 13.5674 16.7222 13.8087C16.7222 14.0501 16.6227 14.2816 16.4456 14.4522C16.2685 14.6229 16.0283 14.7188 15.7777 14.7188H8.2222C7.97171 14.7188 7.7315 14.6229 7.55439 14.4522C7.37727 14.2816 7.27775 14.0501 7.27775 13.8087C7.27775 13.5674 7.37727 13.3359 7.55439 13.1653C7.7315 12.9946 7.97171 12.8987 8.2222 12.8987ZM15.7777 10.1685H8.2222C7.97171 10.1685 7.7315 10.2644 7.55439 10.4351C7.37727 10.6057 7.27775 10.8372 7.27775 11.0786C7.27775 11.3199 7.37727 11.5514 7.55439 11.722C7.7315 11.8927 7.97171 11.9886 8.2222 11.9886H15.7777C16.0283 11.9886 16.2685 11.8927 16.4456 11.722C16.6227 11.5514 16.7222 11.3199 16.7222 11.0786C16.7222 10.8372 16.6227 10.6057 16.4456 10.4351C16.2685 10.2644 16.0283 10.1685 15.7777 10.1685ZM12 15.6289H15.7778C16.0283 15.6289 16.2685 15.7248 16.4456 15.8954C16.6227 16.0661 16.7222 16.2976 16.7222 16.5389C16.7222 16.7803 16.6227 17.0118 16.4456 17.1824C16.2685 17.3531 16.0283 17.449 15.7778 17.449H12C11.7495 17.449 11.5093 17.3531 11.3322 17.1824C11.1551 17.0118 11.0556 16.7803 11.0556 16.5389C11.0556 16.2976 11.1551 16.0661 11.3322 15.8954C11.5093 15.7248 11.7495 15.6289 12 15.6289Z",fill:"#1A1A1A"})),wp.element.createElement("strong",{style:{verticalAlign:"middle",marginLeft:10,color:"#444444",fontSize:13,letterSpacing:"-0.25px"}},frmnt_form_data.l10n.choose_form)),wp.element.createElement("form",null,wp.element.createElement("select",{value:a,onChange:c,style:{margin:"0 auto"}},f.map(function(e){return wp.element.createElement("option",{key:e.value,value:e.value},e.label)}))))]}}]),BlockEdit}(Component);registerBlockType("forminator/forms",{title:frmnt_form_data.l10n.form,description:frmnt_form_data.l10n.form_description,icon:function(){return wp.element.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.6634 3.79874H18.6111C19.1121 3.79874 19.5925 3.99053 19.9468 4.33187C20.301 4.67321 20.5 5.13614 20.5 5.61887V20.1799C20.5 20.6626 20.301 21.1255 19.9468 21.4669C19.5925 21.8082 19.1121 22 18.6111 22H5.38889C4.88792 22 4.4075 21.8082 4.05327 21.4669C3.69904 21.1255 3.5 20.6626 3.5 20.1799V5.61887C3.5 5.13614 3.69904 4.67321 4.05327 4.33187C4.4075 3.99053 4.88792 3.79874 5.38889 3.79874H9.33666C9.53518 3.27168 9.89729 2.81628 10.3738 2.49447C10.8503 2.17265 11.4181 2 12 2C12.5819 2 13.1497 2.17265 13.6262 2.49447C14.1027 2.81628 14.4648 3.27168 14.6634 3.79874ZM12.5247 3.9521C12.3693 3.8521 12.1868 3.79874 12 3.79874C11.7495 3.79874 11.5093 3.89464 11.3322 4.0653C11.1551 4.23597 11.0556 4.46744 11.0556 4.7088C11.0556 4.8888 11.1109 5.06472 11.2147 5.21438C11.3185 5.36404 11.466 5.48072 11.6386 5.5496C11.8111 5.61848 12.0011 5.63648 12.1842 5.60137C12.3674 5.56625 12.5357 5.47958 12.6678 5.3523C12.7998 5.22503 12.8898 5.06286 12.9263 4.88633C12.9627 4.70979 12.944 4.52682 12.8725 4.36053C12.8011 4.19424 12.68 4.0521 12.5247 3.9521ZM5.38889 5.61887V20.1799H18.6111V5.61887H15.7778V7.43899H8.22222V5.61887H5.38889ZM8.2222 12.8987H15.7777C16.0283 12.8987 16.2685 12.9946 16.4456 13.1653C16.6227 13.3359 16.7222 13.5674 16.7222 13.8087C16.7222 14.0501 16.6227 14.2816 16.4456 14.4522C16.2685 14.6229 16.0283 14.7188 15.7777 14.7188H8.2222C7.97171 14.7188 7.7315 14.6229 7.55439 14.4522C7.37727 14.2816 7.27775 14.0501 7.27775 13.8087C7.27775 13.5674 7.37727 13.3359 7.55439 13.1653C7.7315 12.9946 7.97171 12.8987 8.2222 12.8987ZM15.7777 10.1685H8.2222C7.97171 10.1685 7.7315 10.2644 7.55439 10.4351C7.37727 10.6057 7.27775 10.8372 7.27775 11.0786C7.27775 11.3199 7.37727 11.5514 7.55439 11.722C7.7315 11.8927 7.97171 11.9886 8.2222 11.9886H15.7777C16.0283 11.9886 16.2685 11.8927 16.4456 11.722C16.6227 11.5514 16.7222 11.3199 16.7222 11.0786C16.7222 10.8372 16.6227 10.6057 16.4456 10.4351C16.2685 10.2644 16.0283 10.1685 15.7777 10.1685ZM12 15.6289H15.7778C16.0283 15.6289 16.2685 15.7248 16.4456 15.8954C16.6227 16.0661 16.7222 16.2976 16.7222 16.5389C16.7222 16.7803 16.6227 17.0118 16.4456 17.1824C16.2685 17.3531 16.0283 17.449 15.7778 17.449H12C11.7495 17.449 11.5093 17.3531 11.3322 17.1824C11.1551 17.0118 11.0556 16.7803 11.0556 16.5389C11.0556 16.2976 11.1551 16.0661 11.3322 15.8954C11.5093 15.7248 11.7495 15.6289 12 15.6289Z",fill:"#1A1A1A"}))},example:{attributes:{previewURL:frmnt_form_data.l10n.preview_image}},category:"embed",attributes:{module_id:{type:"string"},alignment:{type:"string",default:"none"},previewURL:{type:"string",default:""}},supports:{customClassName:!1,className:!1,html:!1},transforms:{from:[{type:"shortcode",tag:"forminator_form",attributes:{module_id:{type:"string",shortcode:function(e){return e.named.id}}}}]},edit:BlockEdit,save:function(e){var t=e.attributes.module_id;return t?wp.element.createElement("div",{class:"forminator-guttenberg"},'[forminator_form id="',t,'"]'):null}})}]);